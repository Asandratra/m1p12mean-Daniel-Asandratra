"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[280],{3878:(h,m,a)=>{a.d(m,{O:()=>E});var e=a(2525),i=a(4438),c=a(1626);let E=(()=>{class p{constructor(n){this.http=n,this.apiURL=`${e.c.apiUrl}/employees`}signupEmployee(n){return this.http.post(`${this.apiURL}/signup`,n)}signinEmployee(n){return this.http.post(`${this.apiURL}/signin`,n)}filterEmployees(n,l){return this.http.post(`${this.apiURL}/search/${n}`,l)}getDetailsEmployeeAsManager(n){return this.http.get(`${this.apiURL}/asManager/${n}`)}getMecanoByGarage(n){return this.http.get(`${this.apiURL}/byGarage/${n}`)}static{this.\u0275fac=function(l){return new(l||p)(i.KVO(c.Qq))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},4280:(h,m,a)=>{a.r(m),a.d(m,{ManagerEmployeesComponent:()=>M});var e=a(4438),i=a(5447),c=a(177),E=a(4341),p=a(8939),g=a(3878);const n=s=>["/manager/employee",s];function l(s,_){if(1&s&&(e.j41(0,"td",6),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&s){const t=e.XpG().$implicit;e.R7$(),e.SpI("Ar ",e.bMT(2,1,t.salaire.montant),"")}}function u(s,_){1&s&&(e.j41(0,"td",6),e.EFF(1,"Pas encore de salaire enregistr\xe9"),e.k0s())}function d(s,_){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",6),e.EFF(4),e.k0s(),e.j41(5,"td",6),e.EFF(6),e.k0s(),e.DNE(7,l,3,3,"td",6)(8,u,2,0,"td",6),e.j41(9,"td")(10,"a",9),e.EFF(11,"Voir"),e.k0s()()()),2&s){const t=_.$implicit;e.R7$(2),e.Lme("",t.nom," ",t.prenom,""),e.R7$(2),e.JRh(t.tel),e.R7$(2),e.JRh(t.idRole.label),e.R7$(),e.vxM(t.salaire?7:8),e.R7$(3),e.Y8G("routerLink",e.eq3(6,n,t._id))}}let M=(()=>{class s{constructor(t,r){this.employeeService=t,this.activatedRoute=r,this.page=0,this.nombreElement=0,this.nombreMaxElement=0,this.pageMax=0,this.router=(0,e.WQX)(i.Ix)}ngOnInit(){const t=JSON.parse(sessionStorage.getItem("currentUser"));t?this.currentUser=t:this.router.navigateByUrl("manager"),this.activatedRoute.params.subscribe(r=>{this.page=r.page,this.loadEmployees(this.page)})}loadEmployees(t){this.employeeService.filterEmployees(t,{idGarage:this.currentUser.idGarage._id,estActif:!0}).subscribe(o=>{this.nombreElement=o.nombreElement,this.nombreMaxElement=o.nombreMaxElement,this.page=o.page,this.pageMax=o.pageMax,this.employees=o.employees})}static{this.\u0275fac=function(r){return new(r||s)(e.rXU(g.O),e.rXU(i.nX))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-manager-employees"]],decls:23,vars:3,consts:[[1,"card","d-flex","justify-content-center"],[1,"card-body","col-x1-12"],[1,"mb-4"],[1,"card","tbl-card"],[1,"table-responsive"],[1,"table","table-hover","mb-0",2,"font-size","larger"],[1,"text-center"],[1,"d-flex","justify-content-end"],[3,"page","pageMax","url"],[1,"btn","btn-primary",3,"routerLink"]],template:function(r,o){1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"h5",2),e.EFF(3,"M\xe9caniciens"),e.k0s(),e.j41(4,"div",3)(5,"div",4)(6,"table",5)(7,"thead")(8,"tr")(9,"th"),e.EFF(10,"NOM"),e.k0s(),e.j41(11,"th",6),e.EFF(12,"TEL."),e.k0s(),e.j41(13,"th",6),e.EFF(14,"ROLE"),e.k0s(),e.j41(15,"th",6),e.EFF(16,"SALAIRE"),e.k0s(),e.nrm(17,"th"),e.k0s()(),e.j41(18,"tbody"),e.Z7z(19,d,12,8,"tr",null,e.fX1),e.k0s()()()(),e.j41(21,"div",7),e.nrm(22,"app-pagination",8),e.k0s()()()),2&r&&(e.R7$(19),e.Dyx(o.employees),e.R7$(3),e.Y8G("page",o.page)("pageMax",o.pageMax)("url","/manager/employees"))},dependencies:[i.iI,i.Wk,c.MD,c.QX,E.YN,p.e],encapsulation:2})}}return s})()}}]);