"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[375],{9375:(_,c,i)=>{i.r(c),i.d(c,{MecanicTravauxComponent:()=>p});var s=i(5447),o=i(177),l=i(4341),d=i(8939),t=i(4438),u=i(3131);const v=e=>["/mecanic/travail",e];function E(e,m){if(1&e&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td",6),t.EFF(4),t.k0s(),t.j41(5,"td",6),t.EFF(6),t.k0s(),t.j41(7,"td",6),t.EFF(8),t.nI1(9,"date"),t.k0s(),t.j41(10,"td",6),t.EFF(11),t.nI1(12,"date"),t.k0s(),t.j41(13,"td",9)(14,"a",10),t.EFF(15,"Voir diagnostic"),t.k0s()()()),2&e){const a=m.$implicit;t.R7$(2),t.JRh(a.matricule),t.R7$(2),t.Lme("",a.idClient.nom," ",a.idClient.prenom,""),t.R7$(2),t.JRh(a.idClient.tel),t.R7$(2),t.SpI("",t.i5U(9,7,a.debutTravail,"dd/MM/yyyy \xe0 HH:mm")," "),t.R7$(3),t.SpI("",t.i5U(12,10,a.finEstimation,"dd/MM/yyyy \xe0 HH:mm")," "),t.R7$(3),t.Y8G("routerLink",t.eq3(13,v,a._id))}}let p=(()=>{class e{constructor(a,n){this.travailService=a,this.activatedRoute=n,this.page=1,this.pageMax=1,this.travaux=[],this.currentUser={}}ngOnInit(){this.currentUser=JSON.parse(sessionStorage.getItem("currentUser")),this.activatedRoute.params.subscribe(a=>{this.page=a.page,this.loadTravaux(this.page)})}loadTravaux(a){this.travailService.filterTravail(a,{selectedMecanicien:this.currentUser._id,status:{$lt:1}}).subscribe(r=>{this.pageMax=r.pageMax,this.travaux=r.travaux})}static{this.\u0275fac=function(n){return new(n||e)(t.rXU(u.l),t.rXU(s.nX))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-mecanic-travaux"]],decls:25,vars:3,consts:[[1,"card","d-flex","justify-content-center"],[1,"card-body","col-x1-12"],[1,"mb-4"],[1,"card","tbl-card"],[1,"table-responsive"],[1,"table","table-hover","mb-0",2,"font-size","larger"],[1,"text-center"],[1,"d-flex","justify-content-end"],[3,"page","pageMax","url"],[1,"text-end"],[1,"link-primary",3,"routerLink"]],template:function(n,r){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"h5",2),t.EFF(3,"Travaux"),t.k0s(),t.j41(4,"div",3)(5,"div",4)(6,"table",5)(7,"thead")(8,"tr")(9,"th"),t.EFF(10,"MATRICULE"),t.k0s(),t.j41(11,"th",6),t.EFF(12,"CLIENT"),t.k0s(),t.j41(13,"th",6),t.EFF(14,"TEL. CLIENT"),t.k0s(),t.j41(15,"th",6),t.EFF(16,"DEBUT DE TRAVAIL"),t.k0s(),t.j41(17,"th",6),t.EFF(18,"ESTIMATION DE FIN"),t.k0s(),t.nrm(19,"th"),t.k0s()(),t.j41(20,"tbody"),t.Z7z(21,E,16,15,"tr",null,t.fX1),t.k0s()()()(),t.j41(23,"div",7),t.nrm(24,"app-pagination",8),t.k0s()()()),2&n&&(t.R7$(21),t.Dyx(r.travaux),t.R7$(3),t.Y8G("page",r.page)("pageMax",r.pageMax)("url","/mecanic/travaux"))},dependencies:[s.iI,s.Wk,o.MD,o.vh,l.YN,d.e],encapsulation:2})}}return e})()}}]);