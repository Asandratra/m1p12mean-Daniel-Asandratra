"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[280],{4280:(M,l,o)=>{o.r(l),o.d(l,{ManagerEmployeesComponent:()=>u});var e=o(4438),r=o(5447),m=o(177),p=o(4341),c=o(8939),E=o(3878);const _=n=>["/manager/employee",n];function g(n,i){if(1&n&&(e.j41(0,"td",6),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.SpI("Ar ",e.bMT(2,1,t.salaire.montant),"")}}function d(n,i){1&n&&(e.j41(0,"td",6),e.EFF(1,"Pas encore de salaire enregistr\xe9"),e.k0s())}function h(n,i){if(1&n&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",6),e.EFF(4),e.k0s(),e.j41(5,"td",6),e.EFF(6),e.k0s(),e.DNE(7,g,3,3,"td",6)(8,d,2,0,"td",6),e.j41(9,"td")(10,"a",9),e.EFF(11,"Voir"),e.k0s()()()),2&n){const t=i.$implicit;e.R7$(2),e.Lme("",t.nom," ",t.prenom,""),e.R7$(2),e.JRh(t.tel),e.R7$(2),e.JRh(t.idRole.label),e.R7$(),e.vxM(t.salaire?7:8),e.R7$(3),e.Y8G("routerLink",e.eq3(6,_,t._id))}}let u=(()=>{class n{constructor(t,a){this.employeeService=t,this.activatedRoute=a,this.page=0,this.nombreElement=0,this.nombreMaxElement=0,this.pageMax=0,this.router=(0,e.WQX)(r.Ix)}ngOnInit(){const t=JSON.parse(sessionStorage.getItem("currentUser"));t?this.currentUser=t:this.router.navigateByUrl("manager"),this.activatedRoute.params.subscribe(a=>{this.page=a.page,this.loadEmployees(this.page)})}loadEmployees(t){this.employeeService.filterEmployees(t,{idGarage:this.currentUser.idGarage._id,estActif:!0}).subscribe(s=>{this.nombreElement=s.nombreElement,this.nombreMaxElement=s.nombreMaxElement,this.page=s.page,this.pageMax=s.pageMax,this.employees=s.employees})}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(E.O),e.rXU(r.nX))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-manager-employees"]],decls:23,vars:3,consts:[[1,"card","d-flex","justify-content-center"],[1,"card-body","col-x1-12"],[1,"mb-4"],[1,"card","tbl-card"],[1,"table-responsive"],[1,"table","table-hover","mb-0",2,"font-size","larger"],[1,"text-center"],[1,"d-flex","justify-content-end"],[3,"page","pageMax","url"],[1,"btn","btn-primary",3,"routerLink"]],template:function(a,s){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"h5",2),e.EFF(3,"M\xe9caniciens"),e.k0s(),e.j41(4,"div",3)(5,"div",4)(6,"table",5)(7,"thead")(8,"tr")(9,"th"),e.EFF(10,"NOM"),e.k0s(),e.j41(11,"th",6),e.EFF(12,"TEL."),e.k0s(),e.j41(13,"th",6),e.EFF(14,"ROLE"),e.k0s(),e.j41(15,"th",6),e.EFF(16,"SALAIRE"),e.k0s(),e.nrm(17,"th"),e.k0s()(),e.j41(18,"tbody"),e.Z7z(19,h,12,8,"tr",null,e.fX1),e.k0s()()()(),e.j41(21,"div",7),e.nrm(22,"app-pagination",8),e.k0s()()()),2&a&&(e.R7$(19),e.Dyx(s.employees),e.R7$(3),e.Y8G("page",s.page)("pageMax",s.pageMax)("url","/manager/employees"))},dependencies:[r.iI,r.Wk,m.MD,m.QX,p.YN,c.e],encapsulation:2})}}return n})()}}]);