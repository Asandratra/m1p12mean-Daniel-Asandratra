"use strict";(self.webpackChunkmantis_free_version=self.webpackChunkmantis_free_version||[]).push([[42],{9042:(m,l,i)=>{i.r(l),i.d(l,{ClientTravauxComponent:()=>_});var n=i(5447),o=i(177),c=i(4341),u=i(8939),t=i(4438),d=i(3131);const E=e=>["/client/garage",e],p=e=>["/client/travail",e];function v(e,h){if(1&e&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td",6)(4,"a",9),t.EFF(5),t.k0s()(),t.j41(6,"td",6),t.EFF(7),t.nI1(8,"date"),t.k0s(),t.j41(9,"td",6),t.EFF(10),t.nI1(11,"date"),t.k0s(),t.j41(12,"td",6),t.EFF(13),t.k0s(),t.j41(14,"td",6),t.EFF(15),t.nI1(16,"number"),t.k0s(),t.j41(17,"td",10)(18,"a",11),t.EFF(19,"Voir diagnostic"),t.k0s()()()),2&e){const a=h.$implicit,r=t.XpG();t.R7$(2),t.JRh(a.matricule),t.R7$(2),t.Y8G("routerLink",t.eq3(16,E,a.idGarage._id)),t.R7$(),t.SpI("Garage ",a.idGarage.localisation,""),t.R7$(2),t.SpI("",t.i5U(8,8,a.debutTravail,"dd/MM/yyyy \xe0 HH:mm")," "),t.R7$(3),t.SpI("",t.i5U(11,11,a.finEstimation,"dd/MM/yyyy \xe0 HH:mm")," "),t.R7$(3),t.JRh(r.status[a.status]),t.R7$(2),t.SpI("Ar ",t.bMT(16,14,a.prix-a.totalPayer),""),t.R7$(3),t.Y8G("routerLink",t.eq3(18,p,a._id))}}let _=(()=>{class e{constructor(a,r){this.travailService=a,this.activatedRoute=r,this.page=1,this.pageMax=1,this.travaux=[],this.currentUser={},this.status=["En cours","Termin\xe9","Retir\xe9"]}ngOnInit(){this.currentUser=JSON.parse(sessionStorage.getItem("currentUser")),this.activatedRoute.params.subscribe(a=>{this.page=a.page,this.loadTravaux(this.page)})}loadTravaux(a){this.travailService.filterTravail(a,{idClient:this.currentUser._id,status:{$lt:2}}).subscribe(s=>{this.pageMax=s.pageMax,this.travaux=s.travaux})}static{this.\u0275fac=function(r){return new(r||e)(t.rXU(d.l),t.rXU(n.nX))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-travaux"]],decls:27,vars:3,consts:[[1,"card","d-flex","justify-content-center"],[1,"card-body","col-x1-12"],[1,"mb-4"],[1,"card","tbl-card"],[1,"table-responsive"],[1,"table","table-hover","mb-0",2,"font-size","larger"],[1,"text-center"],[1,"d-flex","justify-content-end"],[3,"page","pageMax","url"],[1,"link","link-primary",3,"routerLink"],[1,"text-end"],[1,"link-primary",3,"routerLink"]],template:function(r,s){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"h5",2),t.EFF(3,"Travaux"),t.k0s(),t.j41(4,"div",3)(5,"div",4)(6,"table",5)(7,"thead")(8,"tr")(9,"th"),t.EFF(10,"MATRICULE"),t.k0s(),t.j41(11,"th",6),t.EFF(12,"GARAGE"),t.k0s(),t.j41(13,"th",6),t.EFF(14,"DEBUT DE TRAVAIL"),t.k0s(),t.j41(15,"th",6),t.EFF(16,"ESTIMATION DE FIN"),t.k0s(),t.j41(17,"th",6),t.EFF(18,"ETAT"),t.k0s(),t.j41(19,"th",6),t.EFF(20,"RESTE A PAYER"),t.k0s(),t.nrm(21,"th"),t.k0s()(),t.j41(22,"tbody"),t.Z7z(23,v,20,20,"tr",null,t.fX1),t.k0s()()()(),t.j41(25,"div",7),t.nrm(26,"app-pagination",8),t.k0s()()()),2&r&&(t.R7$(23),t.Dyx(s.travaux),t.R7$(3),t.Y8G("page",s.page)("pageMax",s.pageMax)("url","/client/travaux"))},dependencies:[n.iI,n.Wk,o.MD,o.QX,o.vh,c.YN,u.e],encapsulation:2})}}return e})()}}]);